<app-page-header [title]="'Full Calender'" [activeTitle]="'Apps'" [title1]="'Full Calender'"></app-page-header>


     <!-- Start::row-1 -->
     <div class="grid grid-cols-12 gap-6">
        <div class="xl:col-span-3 col-span-12">
            <div class="box custom-box">
                <div class="py-4 px-[1.25rem] border-b dark:border-white/10  !grid">
                    <button type="button" class="ti-btn ti-btn-primary"><i class="ri-add-line align-middle me-1 font-semibold inline-block"></i>Create New Event</button>
                </div>
                <div class="box-body !p-0">
                    <div id="external-events" class="border-b dark:border-defaultborder/10 p-4">
                      <div
                      mwlDroppable
                      (drop)="externalDrop($event.dropData.event)"
                      dragOverClass="drag-over"
                    >
                      <div>
                        @if(events.length === 0){

                          <p ><em>No events added</em></p>
                        }
                        <ul>
                          @for(event of events;track event.id){
                            <li
                            
                              mwlDraggable
                              [dropData]="{ event: event }" 
                              [touchStartLongPress]="{ delay: 300, delta: 30 }"
                              dragActiveClass="drag-active"
                              class="fc-event fc-h-event fc-daygrid-event fc-daygrid-block-event !bg-primary !border-primary"
                            
                            >
                            <div class="fc-event-main">  {{ event.title }}</div>
                             
                            </li>
                          }
                        </ul>
                      </div>
                    </div>
                      
                     
                    </div>
                    <div class="p-4 border-b dark:border-defaultborder/10 ">
                      <div class="flex items-center mb-4 justify-between">
                        <h6 class="font-semibold">
                          Activity :
                        </h6>
                        <button type="button" class="ti-btn !py-1 !px-2 !text-[0.75rem] ti-btn-primary btn-wave">View All</button>
                      </div>
                      <ngx-simplebar  [options]="options" id="full-calendar-activity">
                      <ul class="list-none mb-0 fullcalendar-events-activity" >
                        <li>
                          <div class="flex items-center justify-between flex-wrap">
                            <p class="mb-1 font-semibold">
                              Monday, Jan 1,2023
                            </p>
                            <span class="badge bg-light text-default mb-1">12:00PM - 1:00PM</span>
                          </div>
                          <p class="mb-0 text-mutedtext-[0.75rem]">
                            Meeting with a client about new project requirement.
                          </p>
                        </li>
                        <li>
                          <div class="flex items-center justify-between flex-wrap">
                            <p class="mb-1 font-semibold">
                              Thursday, Dec 29,2022
                            </p>
                            <span class="badge bg-success text-white mb-1">Completed</span>
                          </div>
                          <p class="mb-0 text-muted text-[0.75rem]">
                            Birthday party of niha suka
                          </p>
                        </li>
                        <li>
                          <div class="flex items-center justify-between flex-wrap">
                            <p class="mb-1 font-semibold">
                              Wednesday, Jan 3,2023
                            </p>
                            <span class="badge bg-warning/10 text-warning mb-1">Reminder</span>
                          </div>
                          <p class="mb-0 text-mutedtext-[0.75rem]">
                            WOrk taget for new project is completing
                          </p>
                        </li>
                        <li>
                          <div class="flex items-center justify-between flex-wrap">
                            <p class="mb-1 font-semibold">
                              Friday, Jan 20,2023
                            </p>
                            <span class="badge bg-light text-default mb-1">06:00PM - 09:00PM</span>
                          </div>
                          <p class="mb-0 text-mutedtext-[0.75rem]">
                            Watch new movie with family
                          </p>
                        </li>
                        <li>
                          <div class="flex items-center justify-between flex-wrap">
                            <p class="mb-1 font-semibold">
                              Saturday, Jan 07,2023
                            </p>
                            <span class="badge bg-danger/10 text-danger mb-1">Due Date</span>
                          </div>
                          <p class="mb-0 text-muted text-[0.75rem]">
                            Last day to pay the electricity bill and water bill.need to check the bank details.
                          </p>
                        </li>
                      </ul>
                    </ngx-simplebar>
                    </div>
                    <div class="p-4">
                      <img src="./assets/images/media/media-83.svg" alt="">
                    </div>
                </div>
            </div>
        </div>
        <div class="xl:col-span-9 col-span-12">
            <div class="box custom-box">
                <div class="box-header">
                    <div class="box-title">Full Calendar</div>
                </div>
                <div class="box-body">
                    <div id="calendar2">
                      <div class="col-xl-10" id="external-events-1">
                        <div class="row text-center block sm:flex sm:justify-between flex-wrap">
                          <div class="col-md-4 text-left">
                            <div class="btn-group">
                              <div
                                class="btn btn-primary pl-3 pr-3"
                                mwlCalendarPreviousView
                                [view]="view"
                                [(viewDate)]="viewDate"
                                (viewDateChange)="closeOpenMonthViewDay()"
                              >
                                <i class="ri-arrow-left-s-line" aria-hidden="true"></i>
                              </div>
                              <div
                                class="btn btn-primary pl-3 pr-3"
                                mwlCalendarNextView
                                [view]="view"
                                [(viewDate)]="viewDate"
                                (viewDateChange)="closeOpenMonthViewDay()"
                              >
                                <i class="ri-arrow-right-s-line" aria-hidden="true"></i>
                              </div>
                              <div
                                class="btn btn-primary ml-2"
                                mwlCalendarToday
                                [(viewDate)]="viewDate"
                              >
                                Today
                              </div>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <h3 class="text-base">
                              {{ viewDate | calendarDate : view + "ViewTitle" : "en" }}
                            </h3>
                          </div>
                          <div class="col-md-4 text-right">
                            <div class="btn-group">
                              <div
                                class="btn btn-primary"
                                (click)="setView(CalendarView.Month)"
                                [class.active]="view === CalendarView.Month"
                              >
                                Month
                              </div>
                              <div
                                class="btn btn-primary"
                                (click)="setView(CalendarView.Week)"
                                [class.active]="view === CalendarView.Week"
                              >
                                Week
                              </div>
                              <div
                                class="btn btn-primary"
                                (click)="setView(CalendarView.Day)"
                                [class.active]="view === CalendarView.Day"
                              >
                                Day
                              </div>
                              <button
                                class="btn btn-raised btn-primary float-right"
                                (click)="addEvent()"
                              >
                                Add Event
                              </button>
                            </div>
                          </div>
                        </div>
            
                        <div class="row">
                          <div class="col-12"></div>
                        </div>
                        <br />
                         @switch (view) {
                          @case ('month')
                          {           <mwl-calendar-month-view
                            [viewDate]="viewDate"
                            [events]="events"
                            [activeDayIsOpen]="activeDayIsOpen"
                            [refresh]="refresh"
                            (dayClicked)="dayClicked($event.day)"
                            (eventClicked)="handleEvent('Clicked', $event.event)"
                            (eventTimesChanged)="eventTimesChanged($event)"
                          >
                          </mwl-calendar-month-view>}
                          @case ("week")
                           {<mwl-calendar-week-view
                            [viewDate]="viewDate"
                            [events]="events"
                            [refresh]="refresh"
                            [snapDraggedEvents]="false"
                            (eventClicked)="handleEvent('Clicked', $event.event)"
                            (eventTimesChanged)="eventDropped($event)"
                          ></mwl-calendar-week-view>}
                          @case ("day") {
                            <mwl-calendar-day-view
                            [viewDate]="viewDate"
                            [events]="events"
                            [refresh]="refresh"
                            [snapDraggedEvents]="false"
                            (eventClicked)="handleEvent('Clicked', $event.event)"
                            (eventTimesChanged)="eventDropped($event)"
                          >
                          </mwl-calendar-day-view>
                          }
                      
                        
                        } 
                        <div>
               

                        
                        </div>
                      </div>
                 
            </div>
        </div>
        
  
    </div>
    <!--End::row-1 -->